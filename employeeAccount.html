<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Account Info</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/test.css">
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-database.js"></script>
    <script src="https://kit.fontawesome.com/b1b6f02eef.js" crossorigin="anonymous"></script>
    
</head>
<body>

    <div class="w3-bar w3-black w3-card">
        <a href="#home" class="w3-bar-item w3-button w3-padding-large"><span style="color: rgb(247, 244, 243);">
                <i class="fas fa-cat" onclick="home()" id="home"></i>
                    </span></a>
        <a href="#schedule" class="w3-bar-item w3-button w3-padding-large" onclick="schedule()">Schedule</a>
        <a href="javascript:void(0)" class="w3-padding-large w3-hover-white w3-hide-small w3-right"><i
                class="far fa-bell"></i></a>
        <a href="javascript:void(0)" class="w3-padding-large w3-hover-white w3-hide-small w3-right"><i
                class="far fa-comments"></i></a>
    
        <div class="w3-dropdown-hover w3-hide-small w3-right">
            <button class="w3-padding-large w3-button" title="account"><span style="color: rgb(247, 244, 243);"><i
                    class="fas fa-user-astronaut"></i></span></button>
            <div class="w3-dropdown-content w3-bar-block w3-card-4">
                <div class="w3-dropdown-content w3-bar-block w3-card-4">
                    <a href="#account" class="w3-padding-large w3-bar-item w3-button" onclick="accnt()">Account</a>
                    <a href="#logout" class="w3-padding-large w3-bar-item w3-button" onclick="logout()">Log Out</a>
                  </div>
            </div>
        </div>
    
    </div>

    <div class=" w3-center">
        <h1>ACCOUNT</h1>
    </div><br>
    
    <div class ="W3-container w3-center">
        <div id="passcode" style="display:none">
            <input type="text" id="Code" placeholder="Manager Code"><br>
            <br><button class="w3-black" onclick="mngCode()">Submit</button>
        </div>            
    </div><br><br>
    
    <div class="w3-row-padding">
        <div class="w3-col s2"><p></p></div>
        <div class="w3-col s2"><p></p></div>
    
    
            <div class="w3-col w3-padding s2 w3-left">
                <label for="name"><b>Name:</b></label><br>
                <textarea disabled placeholder="name" id="name" rows="1"></textarea>
                <i class="far fa-edit" id="btn1" disabled onclick="nameBtn()"></i>
                <br><br>
                <label for="sixDig"><b>ID:</b></label><br>
                <textarea disabled placeholder="ID" id="sixDig" rows="1"></textarea>
                <i class="far fa-edit" id="btn2" disabled onclick="idBtn()"></i>
                <br><br>
                <label for="psw"><b>Password:</b></label><br>
                <textarea disabled placeholder="password" id="psw" rows="1"></textarea>
                <i class="far fa-edit" id="btn3" disabled onclick="pswBtn()"></i>
                <br><br>
            </div>
            <div class="w3-col w3-padding s2 w3-left">
                <label for="email"><b>Email:</b></label>
                <textarea disabled placeholder="email" id="email" rows="1"></textarea>
                <i class="far fa-edit" id="btn4" disabled onclick="emailBtn()"></i>
                <br><br>
                <label for="wage"><b>Hourly Wage:</b></label>
                <textarea disabled placeholder="wage" id="wage" rows="1"></textarea>
                <i class="far fa-edit" id="btn5" disabled onclick="hryWBtn()"></i>
                <br><br>
                <label for="hours"><b>Hours Per Week:</b></label>
                <textarea disabled placeholder="hours" id="hours" rows="1"></textarea>
                <i class="far fa-edit" id="btn6" disabled onclick="hrsBtn()"></i>
                <br><br>  
            </div>
        </div>
    
        <div class="w3-row-padding">
            <div class="w3-col s4">
                <p></p>
            </div>
            <div class="w3-col s4 w3-center">
                <label for="pos"><b>Position</b></label><br><br>  
                <div id="pos">
                <select name="pstn" id="pstn">
                  <option value="cashier">Cashier</option>
                  <option value="driver">Driver</option>
                  <option value="cook">Cook</option>
                </select>
                </div>
            <br><br><br><button id="editbtn" class="w3-black" onclick="editAcct()">Edit</button>
            </div>
       
        </div>
        <br>

        <div class="w3-container w3-center">
                Availability:   
        </div>
        <br>

        <div id="snDataTb">

            <table style="width: 100%">

                <tr>

                    <th class="doW"></th>
                    <th class="doW"></th>
                    <th class="doW">S</th>
                    <th class="doW">M</th>
                    <th class="doW">T</th>
                    <th class="doW">W</th>
                    <th class="doW">T</th>
                    <th class="doW">F</th>
                    <th class="doW">S</th>

                </tr>
                <tr>
                    <th rowspan="9"></th>
                    <th>11AM-12PM</th>
                    <td><input type="checkbox" class="LchkB" id="00"></td>
                    <td><input type="checkbox" class="LchkB" id="01"></td>
                    <td><input type="checkbox" class="LchkB" id="02"></td>
                    <td><input type="checkbox" class="LchkB" id="03"></td>
                    <td><input type="checkbox" class="LchkB" id="04"></td>
                    <td><input type="checkbox" class="LchkB" id="05"></td>
                    <td><input type="checkbox" class="LchkB" id="06"></td>
                </tr>
                <tr>
                    <th>12PM-1PM</th>
                    <td><input type="checkbox" class="LchkB" id="10"></td>
                    <td><input type="checkbox" class="LchkB" id="11"></td>
                    <td><input type="checkbox" class="LchkB" id="12"></td>
                    <td><input type="checkbox" class="LchkB" id="13"></td>
                    <td><input type="checkbox" class="LchkB" id="14"></td>
                    <td><input type="checkbox" class="LchkB" id="15"></td>
                    <td><input type="checkbox" class="LchkB" id="16"></td>
                </tr>
                <tr>
                    <th>1PM-2PM</th>
                    <td><input type="checkbox" class="LchkB" id="20"></td>
                    <td><input type="checkbox" class="LchkB" id="21"></td>
                    <td><input type="checkbox" class="LchkB" id="22"></td>
                    <td><input type="checkbox" class="LchkB" id="23"></td>
                    <td><input type="checkbox" class="LchkB" id="24"></td>
                    <td><input type="checkbox" class="LchkB" id="25"></td>
                    <td><input type="checkbox" class="LchkB" id="26"></td>
                </tr>
                <tr>
                    <th>2PM-3PM</th>
                    <td><input type="checkbox" class="LchkB" id="30"></td>
                    <td><input type="checkbox" class="LchkB" id="31"></td>
                    <td><input type="checkbox" class="LchkB" id="32"></td>
                    <td><input type="checkbox" class="LchkB" id="33"></td>
                    <td><input type="checkbox" class="LchkB" id="34"></td>
                    <td><input type="checkbox" class="LchkB" id="35"></td>
                    <td><input type="checkbox" class="LchkB" id="36"></td>
                </tr>
                <tr>
                    <th>3PM-4PM</th>
                    <td><input type="checkbox" class="LchkB" id="40"></td>
                    <td><input type="checkbox" class="LchkB" id="41"></td>
                    <td><input type="checkbox" class="LchkB" id="42"></td>
                    <td><input type="checkbox" class="LchkB" id="43"></td>
                    <td><input type="checkbox" class="LchkB" id="44"></td>
                    <td><input type="checkbox" class="LchkB" id="45"></td>
                    <td><input type="checkbox" class="LchkB" id="46"></td>
                </tr>
                <tr>
                    <th>4PM-5PM</th>
                    <td><input type="checkbox" class="LchkB" id="50"></td>
                    <td><input type="checkbox" class="LchkB" id="51"></td>
                    <td><input type="checkbox" class="LchkB" id="52"></td>
                    <td><input type="checkbox" class="LchkB" id="53"></td>
                    <td><input type="checkbox" class="LchkB" id="54"></td>
                    <td><input type="checkbox" class="LchkB" id="55"></td>
                    <td><input type="checkbox" class="LchkB" id="56"></td>
                </tr>
                <tr>
                    <th>5PM-6PM</th>
                    <td><input type="checkbox" class="LchkB" id="60"></td>
                    <td><input type="checkbox" class="LchkB" id="61"></td>
                    <td><input type="checkbox" class="LchkB" id="62"></td>
                    <td><input type="checkbox" class="LchkB" id="63"></td>
                    <td><input type="checkbox" class="LchkB" id="64"></td>
                    <td><input type="checkbox" class="LchkB" id="65"></td>
                    <td><input type="checkbox" class="LchkB" id="66"></td>
                </tr>
                <tr>
                    <th>6PM-7PM</th>
                    <td><input type="checkbox" class="LchkB" id="70"></td>
                    <td><input type="checkbox" class="LchkB" id="71"></td>
                    <td><input type="checkbox" class="LchkB" id="72"></td>
                    <td><input type="checkbox" class="LchkB" id="73"></td>
                    <td><input type="checkbox" class="LchkB" id="74"></td>
                    <td><input type="checkbox" class="LchkB" id="75"></td>
                    <td><input type="checkbox" class="LchkB" id="76"></td>
                </tr>
                <tr>
                    <th>7PM-8PM</th>
                    <td><input type="checkbox" class="LchkB" id="80"></td>
                    <td><input type="checkbox" class="LchkB" id="81"></td>
                    <td><input type="checkbox" class="LchkB" id="82"></td>
                    <td><input type="checkbox" class="LchkB" id="83"></td>
                    <td><input type="checkbox" class="LchkB" id="84"></td>
                    <td><input type="checkbox" class="LchkB" id="85"></td>
                    <td><input type="checkbox" class="LchkB" id="86"></td>
                </tr>


            </table>
            <button onclick="updateSch()">Submit</button>

        </div>

    </div>
   
        
          
   

    <script>


        var firebaseConfig = {
            apiKey: "AIzaSyCMkSmHmn_zNCoHwthP9J6HtqPgtwokXyo",
            authDomain: "capstone450.firebaseapp.com",
            databaseURL: "https://capstone450-default-rtdb.firebaseio.com",
            projectId: "capstone450",
            storageBucket: "capstone450.appspot.com",
            messagingSenderId: "706717697173",
            appId: "1:706717697173:web:00b44ba17bb2fa112bc79c",
            measurementId: "G-V28RYN23J2"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        var uid = location.search.substring(1);
    
    var childKey;
    
    function editAcct(){
    document.getElementById("editbtn").style.display="none";
    document.getElementById("passcode").style.display="block";
    }
    
    function home() {
    window.location.href = "nonManHome.html"
    }
    
    function accnt() {
    window.location.href = "employeeAccount.html"
    }
    
    function schedule() {
    window.location.href = "employeeSchedule.html"
}    
    
    function mngCode() {
    var code = document.getElementById("Code");
    code = code.value.trim();
    if (code === "12345") {
        show();
    } else {
        alert("incorrect passcode.");
    }
}
    
    
    function show() {
    document.getElementById("passcode").style.display="none";
    for (i = 1; i < 7; i++) {
        var temp = "btn" + i;
        document.getElementById(temp).removeAttribute("disabled");
    }
    }
    
    
    function nameBtn() {
    document.getElementById("name").disabled = false;
    }
    
    function idBtn() {
    document.getElementById("sixDig").disabled = false;
    }
    
    function pswBtn() {
    document.getElementById("psw").disabled = false;
    }
    
    function hrsBtn() {
    document.getElementById("hours").disabled = false;
    }
    
    function emailBtn() {
    document.getElementById("email").disabled = false;
    }
    
    function hryWBtn() {
    document.getElementById("wage").disabled = false;
    }
    
    function setDta(){
    
        var uName = location.search.substring(1);
    
        var ref = firebase.database().ref("users");
        ref.once("value").then(function(snapshot){
    
            childKey =snapshot.child(uName + "/name").val();
            document.getElementById("name").innerHTML= childKey;
            console.log(childKey);
        
    
            childKey =snapshot.child(uName + "/UID").val();
            document.getElementById("sixDig").innerHTML = childKey;
    
            childKey =snapshot.child(uName + "/password").val();
            document.getElementById("psw").textContent = childKey;
    
            childKey = snapshot.child(uName + "/email").val();
            document.getElementById("email").textContent = childKey;
    
            childKey = snapshot.child(uName + "/hoursPerWeek").val();
            document.getElementById("hours").textContent = childKey;
    
            childKey = snapshot.child(uName + "/hourly").val();
            document.getElementById("wage").textContent = childKey;
    
            childKey = snapshot.child(uName + "/position").val();
            document.getElementById("pstn").textContent = childKey;
    
        });
    
    }
    
    setDta();
    
    function logout(){
      document.getElementById("logoutform").style.display = "block";
    }
    
    function confirmLogOut(){
      firebase.auth().signOut().then(() => {
        window.location.href = "/index.html"
      }).catch((error) => {
        alert("error")
      });
    }
    
    
    
      
    
    </script>
    
    </body>
    </html>
